<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <!-- TEMPORARY -->
    <button><a href="/publicationForm?id={{.Pid}}">Update</a></button> <br> <br> <br>
    <button><a href="/publicationDelete?id={{.Pid}}">Delete</a></button>
    <!-- TEMPORARY -->
    
    <div class="publicationPage">
        <div class="publicationPageHeader">
            <div class="publicationPageFirstLine">
                <div class="publicationPageTopLeft">
                    <div class="publicationPageUsername">{{.Username}}</div>
                    <div>le {{.CreatedDate}}</div>
                </div>
                <div class="publicationPageTags">{{.Tags}}</div>
            </div>
            <div class="publicationPageTitle">
                {{.Title}}
            </div>
        </div>
        <div class="publicationPageContent">
            {{.Content}}
        </div>
        {{if .IsThereImage}}
        <div class="publicationPageImage">
            <img src="{{.ImageLink}}" alt="image">
        </div>
        {{end}}

        <div class="publicationPageLowBar">
            <div class="publicationPageUpvoteDownvote">
                <a class="voteButtonPadding {{.UpvoteClass}}" href="/likes?id={{.Pid}}&isComment=false&isLike=true"><img class="upvoteIcon"src="https://external-preview.redd.it/vWYcdynWxuFy6bKYpZwuw6KiNgYuBPM6daHCwWRs4mo.png?auto=webp&s=fe3bf857b3c9f1369aed1ea0bc5e1acd8ae39449" alt=""></a>
                <span>{{.UpvoteNumber}}</span>
                <a class="voteButtonPadding {{.DownvoteClass}}" href="/likes?id={{.Pid}}&isComment=false&isLike=false"><img class="downvoteIcon"src="https://lh6.googleusercontent.com/proxy/eIl4xyFenaeOotTx0bp9nXzEU8tPQ8c5r9hrkfvG43vToNsuAS_cmLU-IQ4kcvCxwtaV9tifecw8G6dEGbzbzA79YF3dQLIRgrmQEwsJZr3tk_oraWzBDdQNeL3ycGxBjaYZxx1R1ZSHHt0PUjsTIggpBZ6p1KyiT1g5ry4fME0=s0-d" alt=""></a>
            </div>
            <div class="publicationPageCommentNumber">
                <img class="commentIcon" src="https://www.freeiconspng.com/uploads/comment-png-17.png" alt="">
                <span>{{.CommentNumber}}</span>
            </div>
        </div>
        <div class="publicationPageSeparator">
            <div>
                <a class="publicationPageCreateComment" href="/addCommentBox?pid={{.Pid}}">+ RÃ©pondre</a>
            </div>
            <div class="publicationPageSortComment">Trier par : 
                <button class="publicationPageSortCommentBtn publicationPageSortCommentBtnSelected">Pertinance</button> | <button class="publicationPageSortCommentBtn">Nouveau</button>
            </div>
        </div>
        {{.CreateCommentBox}}

        <div class="publicationPageComments">
            {{range .Comments}}
                <div class="publicationPageComment">
                    <div class="publicationPageCommentSide">
                        <a class="voteButtonPadding {{.UpvoteClass}}" href="/likes?id={{.Cid}}&isComment=true&isLike=true"><img class="upvoteIcon"src="https://external-preview.redd.it/vWYcdynWxuFy6bKYpZwuw6KiNgYuBPM6daHCwWRs4mo.png?auto=webp&s=fe3bf857b3c9f1369aed1ea0bc5e1acd8ae39449" alt=""></a>
                        <span class="publicationPageCommentLikeNb">{{.Like}}</span>
                        <a class="voteButtonPadding {{.DownvoteClass}}" href="/likes?id={{.Cid}}&isComment=true&isLike=false"><img class="downvoteIcon"src="https://lh6.googleusercontent.com/proxy/eIl4xyFenaeOotTx0bp9nXzEU8tPQ8c5r9hrkfvG43vToNsuAS_cmLU-IQ4kcvCxwtaV9tifecw8G6dEGbzbzA79YF3dQLIRgrmQEwsJZr3tk_oraWzBDdQNeL3ycGxBjaYZxx1R1ZSHHt0PUjsTIggpBZ6p1KyiT1g5ry4fME0=s0-d" alt=""></a>        
                    </div> 
                    <div class="publicationPageCommentCore">
                        <div class="publicationPageCommentHeader">
                            <div class="publicationPageCommentUsername">{{.Username}}</div>
                            le {{.CreatedDate}}
                        </div>
                        
                        <div class="publicationPageContent">
                            {{.Content}}
                        </div>
                    </div>
                </div>
            {{end}}
            
        </div>
    
    </div>



</body>
</html>